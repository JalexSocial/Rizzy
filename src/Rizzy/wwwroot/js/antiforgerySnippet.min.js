document.body.attributes.__htmx_antiforgery||(document.addEventListener("htmx:configRequest",e=>{let{verb:t,parameters:r,headers:n}=e.detail;if("GET"===t?.toUpperCase())return;let i=htmx.config?.antiforgery;if(!i)return;let{headerName:a,requestToken:o,formFieldName:f}=i;if(!a&&!f){console.warn("Antiforgery configuration is missing both headerName and formFieldName. Token not added.");return}f&&r[f]||(a?n[a]=o:r[f]=o)}),document.addEventListener("htmx:afterOnLoad",e=>{if(e.detail.boosted){let t=e.detail.xhr.responseText,r=t.indexOf('<meta name="htmx-config"'),n=t.indexOf(">",r)+1,i=t.indexOf("</meta>",n);if(r>-1){let a="";if(i>-1){let o=t.indexOf("/",r);a=o>-1&&o<n?t.substring(r,n):t.substring(r,t.indexOf("</meta>")+7)}else a=t.substring(r,n);let f=/content="([^"]*)"/,s=a.match(f);if(s&&s[1]){let d=s[1],m=document.querySelector("meta[name=htmx-config]"),g="antiforgery";try{htmx.config[g]=JSON.parse(d)[g]}catch(l){console.error("Error parsing htmx-config JSON:",l);return}let c=document.createElement("meta");c.setAttribute("name","htmx-config"),c.setAttribute("content",d),m.replaceWith(c)}}}}),document.body.attributes.__htmx_antiforgery=!0);